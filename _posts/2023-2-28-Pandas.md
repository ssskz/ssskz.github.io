---
title: Pandas
commentable: true
Edit: 2023-2-21
mathjax: true
mermaid: true
tags: python data-mining
categories: DS
description: This is a knowledge sharing about pandas on Data Mining course given by [Pr.Chen](https://shengquanchen.github.io/) sms, Nankai University, in 2023 spring semester.
--- 
# Pandas库下载和安装

## Windows系统安装

使用 pip 包管理器安装 Pandas，是最简单的一种安装方式。在 CMD 命令提示符界面行执行以下命令：

```markdown
pip install pandas
```

## MacOS系统安装

对于 Mac 用户而言，同样可以直接使用 pip 包管理器来安装，命令如下：

```markdown
pip install pandas
```

# Pandas Series入门教程

## 认识Series对象

Series 结构，也称 Series 序列，是 Pandas 常用的数据结构之一，它是一种类似于一维数组的结构，由一组数据值（value）和一组标签组成，其中标签与数据值之间是一一对应的关系。

Series 可以保存任何数据类型，比如整数、字符串、浮点数、Python 对象等，它的标签默认为整数，从 0 开始依次递增。Series 的结构图，如下所示：

![caption](https://ssskz.github.io/about/pandas_1.png)

## 创建Series对象

Pandas 使用 Series()  函数来创建 Series 对象

```python
import pandas as pd
s=pd.Series( data, index, dtype, copy)  
```

参数说明如下所示：  
- data：输入的数据，可以是列表、常量、ndarray 数组等。  

- index：索引值必须是惟一的，如果没有传递索引，则默认为 np.arrange(n)，即按照从0到n-1的升序排列。

- dtype：dtype表示数据类型，如果没有提供，则会自动判断得出。  

- copy：表示对 data 进行拷贝，默认为 False。

###  创建一个空Series对象

```python
import pandas as pd
#输出数据为空
s = pd.Series()
print(s)
```

### ndarray创建Series对象

当我们没有给series增加索引时，series的索引会按照又0到n-1的顺序自动排列

```python
import numpy as np
data = np.array(['a','b','c','d'])
s = pd.Series(data)
print (s)
```

我们也可以给一个series对象增加索引

```python
import pandas as pd
import numpy as np
data = np.array(['a','b','c','d'])
#自定义索引标签（即显示索引）
s = pd.Series(data,index=[100,101,102,103])
print(s)
```

### dict创建Series对象

把 dict 作为输入数据。如果没有传入索引时会按照字典的键来构造索引  

当传递了索引时需要将索引标签与字典中的值一一对应。

没有传递索引时：

```python
import pandas as pd
import numpy as np
data = {'a' : 0., 'b' : 1., 'c' : 2.}
s = pd.Series(data)
print(s)
```

传递了索引时：

```python
import pandas as pd
import numpy as np
data = {'a' : 0., 'b' : 1., 'c' : 2.}
s = pd.Series(data,index=['b','c','d','a'])
print(s)
```

### 标量创建Series对象

如果 data 是标量值，则必须提供索引，示例如下：

```python
import pandas as pd
import numpy as np
s = pd.Series(5, index=[0, 1, 2, 3])
print(s)
```

## 访问series数据

访问 Series 序列中元素分为两种方式，一种是位置索引访问；另一种是索引标签访问

### 位置索引访问

我们知道数组的索引计数从 0 开始，这表示第一个元素存储在第 0 个索引位置上，以此类推，就可以获得 Series 序列中的每个元素。下面看一组简单的示例：

```python
import pandas as pd
s = pd.Series([1,2,3,4,5],index = ['a','b','c','d','e'])
print(s[0])  #位置下标
```

通过切片的方式访问 Series 序列中的数据，示例如下：

```python
print(s[:3])
```
```python
print(s[-3:])
```

### 索引标签访问

Series 类似于固定大小的 dict，把 index 中的索引标签当做 key，而把 Series 序列中的元素值当做 value，然后通过 index 索引标签来访问或者修改元素值。

```python
s = pd.Series([6,7,8,9,10],index = ['a','b','c','d','e'])
print(s['a'])
```

使用索引标签访问多个元素值

```python
print(s[['a','c','d']])
```

如果使用了 index 中不包含的标签，则会触发异常：

```python
s = pd.Series([6,7,8,9,10],index = ['a','b','c','d','e'])
#不包含f值
print(s['f'])
```





